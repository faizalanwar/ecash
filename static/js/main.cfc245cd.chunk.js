(this.webpackJsonpecash=this.webpackJsonpecash||[]).push([[0],{109:function(a,e,t){"use strict";t.r(e);var n=t(2),c=t(0),r=t.n(c),s=t(28),i=t.n(s),o=(t(84),t(85),t(16)),j=t(17),l=t(19),h=t(18),u=t(57),d=t(9),b=t(41),g=t(76),O=t(124),m=t(116),x=t(117),p=function(a){return a.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},f=t(25),k=t(23),v=t(121),y=t(122),S=t(114),C=t(77),D=function(a){var e=a.showModal,t=a.handleClose,c=a.keranjangDetail,r=a.jumlah,s=a.keterangan,i=a.tambah,o=a.kurang,j=a.changeHandler,l=a.handleSubmit,h=a.totalHarga,u=a.hapusPesanan;return c?Object(n.jsx)(v.a,{show:e,onHide:t,children:Object(n.jsxs)(y.a,{onSubmit:l,children:[Object(n.jsx)(v.a.Header,{closeButton:!0,children:Object(n.jsx)(v.a.Title,{children:"Desksripsi Product"})}),Object(n.jsx)(v.a.Body,{children:Object(n.jsxs)(S.a,{borderless:!0,children:[Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:"Nama Product"}),Object(n.jsx)("td",{children:":"}),Object(n.jsxs)("td",{colSpan:"2",children:[c.product.nama," "]})]}),Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:"Harga Product"}),Object(n.jsx)("td",{children:":"}),Object(n.jsxs)("td",{colSpan:"2",children:[" ",Object(n.jsxs)("strong",{children:["Rp. ",p(c.product.harga),")"]})]})]}),Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:"Jumlah"}),Object(n.jsx)("td",{children:":"}),Object(n.jsxs)("td",{colSpan:"2",children:[Object(n.jsx)(C.a,{variant:"primary",size:"sm",className:"mr-2",onClick:function(){return o()},children:Object(n.jsx)(k.a,{icon:f.c})}),Object(n.jsx)("strong",{children:r}),Object(n.jsx)(C.a,{variant:"primary",size:"sm",className:"ml-2",onClick:function(){return i()},children:Object(n.jsx)(k.a,{icon:f.d})})]})]}),Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:"Harga Satuan"}),Object(n.jsx)("td",{children:":"}),Object(n.jsx)("td",{colSpan:"2",children:Object(n.jsx)(y.a.Control,{as:"textarea",rows:"3",name:"keterangan",placeholder:"Contoh : Pedes, Nasi Setengah",value:s,onChange:function(a){return j(a)}})})]})]})}),Object(n.jsxs)(v.a.Footer,{children:[Object(n.jsx)(g.a,{className:"ml-n2",children:Object(n.jsxs)(C.a,{variant:"danger",onClick:function(){return u(c.id)},children:[Object(n.jsx)(k.a,{icon:f.f})," Hapus Pesanan"]})}),Object(n.jsx)(C.a,{variant:"secondary",onClick:t,children:"Close"}),Object(n.jsx)(C.a,{variant:"primary",type:"submit",className:"mr-4",children:"Simpan"}),Object(n.jsxs)("p",{className:"float-right",children:[Object(n.jsx)("br",{}),"Total Harga :",Object(n.jsx)("p",{children:Object(n.jsxs)("strong",{children:["Rp. ",p(h)]})})]}),Object(n.jsx)("br",{})]})]})}):Object(n.jsxs)(v.a,{show:e,onHide:t,children:[Object(n.jsx)(v.a.Header,{closeButton:!0,children:Object(n.jsx)(v.a.Title,{children:"Kosong"})}),Object(n.jsx)(v.a.Body,{children:"Kosong"}),Object(n.jsxs)(v.a.Footer,{children:[Object(n.jsx)(C.a,{variant:"secondary",onClick:t,children:"Close"}),Object(n.jsx)(C.a,{variant:"primary",onClick:t,children:"Save Changes"})]})]})},w=t(12),H=t.n(w),N=t(115),M="https://my-json-server.typicode.com/faizalanwar/ecash/",P=function(a){Object(l.a)(t,a);var e=Object(h.a)(t);function t(){var a;Object(o.a)(this,t);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(a=e.call.apply(e,[this].concat(c))).submitTotalBayar=function(e){var n={total_bayar:t,menus:a.props.keranjangs};H.a.post(M+"pesanans",n).then((function(e){a.props.history.push("/sukses")}))},a}return Object(j.a)(t,[{key:"render",value:function(){var a=this,e=this.props.keranjangs.reduce((function(a,e){return a+e.total_harga}),0);return Object(n.jsx)(N.a,{className:"fixed-bottom",children:Object(n.jsx)(m.a,{children:Object(n.jsxs)(g.a,{md:{span:3,offset:9},children:[Object(n.jsxs)("h6",{children:["Total Harga :",Object(n.jsxs)("strong",{className:"float-right  ",children:["Rp. ",p(e)]})]}),Object(n.jsxs)(C.a,{block:!0,className:"mb-2",onClick:function(){return a.submitTotalBayar(e)},children:[Object(n.jsx)(k.a,{icon:f.e})," Bayar"]})]})})})}}]),t}(c.Component),E=t(40),B=t.n(E),K=function(a){Object(l.a)(t,a);var e=Object(h.a)(t);function t(a){var n;return Object(o.a)(this,t),(n=e.call(this,a)).handleShow=function(a){n.setState({showModal:!0,keranjangDetail:a,jumlah:a.jumlah,keterangan:a.keterangan,totalHarga:a.total_harga})},n.handleClose=function(){n.setState({showModal:!1})},n.tambah=function(){n.setState({jumlah:n.state.jumlah+1,totalHarga:n.state.keranjangDetail.product.harga*(n.state.jumlah+1)})},n.kurang=function(){1!==n.state.jumlah&&n.setState({jumlah:n.state.jumlah-1,totalHarga:n.state.keranjangDetail.product.harga*(n.state.jumlah-1)})},n.changeHandler=function(a){n.setState({keterangan:a.target.value})},n.handleSubmit=function(a){a.preventDefault(),n.handleClose();var e={jumlah:n.state.jumlah,total_harga:n.state.totalHarga,product:n.state.keranjangDetail.product,keterangan:n.state.keterangan};H.a.put(M+"keranjangs/"+n.state.keranjangDetail.id,e).then((function(a){B()({title:"Update Pesanan!",text:"Sukses Update Pesanan "+e.product.nama,icon:"success",button:!1,timer:1500})})).catch((function(a){console.log("Error yaa ",a)}))},n.hapusPesanan=function(a){n.handleClose(),H.a.delete(M+"keranjangs/"+a).then((function(a){B()({title:"Hapus Pesanan!",text:"Sukses Hapus Pesanan "+n.state.keranjangDetail.product.nama,icon:"error",button:!1,timer:1500})})).catch((function(a){console.log("Error yaa ",a)}))},n.state={showModal:!1,keranjangDetail:!1,jumlah:0,keterangan:"",totalHarga:0},n}return Object(j.a)(t,[{key:"render",value:function(){var a=this,e=this.props.keranjangs;return Object(n.jsxs)(g.a,{md:3,className:"mt-5 ",children:[Object(n.jsx)("h4",{children:Object(n.jsx)("strong",{children:"Hasil"})}),Object(n.jsx)("hr",{}),0!==e.length&&Object(n.jsxs)(O.a,{variant:"flush",children:[e.map((function(e){return Object(n.jsx)(O.a.Item,{onClick:function(){return a.handleShow(e)},children:Object(n.jsxs)(m.a,{children:[Object(n.jsx)(g.a,{xs:2,children:Object(n.jsx)("h4",{children:Object(n.jsx)(x.a,{pill:!0,variant:"success",children:e.jumlah})})}),Object(n.jsxs)(g.a,{children:[Object(n.jsx)("h6",{children:e.product.nama}),Object(n.jsxs)("p",{children:["Rp. ",p(e.product.harga)]})]}),Object(n.jsx)(g.a,{children:Object(n.jsx)("strong",{className:"float-right",children:Object(n.jsxs)("p",{children:[" Rp. ",p(e.total_harga)]})})})]})},e.id)})),Object(n.jsx)(D,Object(b.a)(Object(b.a)({handleClose:this.handleClose},this.state),{},{tambah:this.tambah,kurang:this.kurang,changeHandler:this.changeHandler,handleSubmit:this.handleSubmit,hapusPesanan:this.hapusPesanan}))]}),Object(n.jsx)(P,Object(b.a)({keranjangs:e},this.props))]})}}]),t}(c.Component),T=function(a){var e=a.nama;return"Makanan"===e?Object(n.jsx)(k.a,{icon:f.g,className:"mr-2"}):"Minuman"===e?Object(n.jsx)(k.a,{icon:f.b}):"Cemilan"===e?Object(n.jsx)(k.a,{icon:f.a,className:"mr-2"}):Object(n.jsx)(k.a,{icon:f.g,className:"mr-2"})},I=function(a){Object(l.a)(t,a);var e=Object(h.a)(t);function t(a){var n;return Object(o.a)(this,t),(n=e.call(this,a)).state={categories:[]},n}return Object(j.a)(t,[{key:"componentDidMount",value:function(){var a=this;H.a.get(M+"categories").then((function(e){var t=e.data;a.setState({categories:t})})).catch((function(a){console.log("Error yaa ",a)}))}},{key:"render",value:function(){var a=this.state.categories,e=this.props,t=e.changeCategory,c=e.categoriYangDipilih;return Object(n.jsxs)(g.a,{md:2,className:"mt-5",children:[Object(n.jsx)("h4",{children:Object(n.jsx)("strong",{children:"Daftar Kategori"})}),Object(n.jsx)("hr",{}),Object(n.jsx)(O.a,{children:a&&a.map((function(a){return Object(n.jsx)(O.a.Item,{onClick:function(){return t(a.nama)},className:c===a.nama&&"category-aktif",style:{cursor:"pointer"},children:Object(n.jsxs)("h6",{children:[Object(n.jsx)(T,{nama:a.nama})," ",a.nama]})},a.id)}))})]})}}]),t}(c.Component),_=t(123),R=t(118),Y=t(120),A=function(){return Object(n.jsx)(_.a,{variant:"dark",expand:"lg",children:Object(n.jsxs)(N.a,{children:[Object(n.jsx)(_.a.Brand,{href:"#home",children:Object(n.jsx)("strong",{children:"ECash"})}),Object(n.jsx)(_.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(n.jsx)(_.a.Collapse,{id:"basic-navbar-nav",children:Object(n.jsxs)(R.a,{className:"mr-auto",children:[Object(n.jsx)(R.a.Link,{href:"#home",children:"Home"}),Object(n.jsx)(R.a.Link,{href:"#link",children:"Link"}),Object(n.jsxs)(Y.a,{title:"Dropdown",id:"basic-nav-dropdown",children:[Object(n.jsx)(Y.a.Item,{href:"#action/3.1",children:"Action"}),Object(n.jsx)(Y.a.Item,{href:"#action/3.2",children:"Another action"}),Object(n.jsx)(Y.a.Item,{href:"#action/3.3",children:"Something"}),Object(n.jsx)(Y.a.Divider,{}),Object(n.jsx)(Y.a.Item,{href:"#action/3.4",children:"Separated link"})]})]})})]})})},L=t(125),z=function(a){var e=a.menu,t=a.masukKeranjang;return Object(n.jsx)(g.a,{md:4,xs:6,className:"mb-4",children:Object(n.jsxs)(L.a,{children:[Object(n.jsx)(L.a.Img,{variant:"top",src:"assets/images/"+e.category.nama.toLowerCase()+"/"+e.gambar}),Object(n.jsxs)(L.a.Body,{children:[Object(n.jsxs)(L.a.Title,{children:[e.nama,Object(n.jsxs)("strong",{children:[" (",e.kode,")"]})]}),Object(n.jsxs)(L.a.Text,{children:["Rp .",p(e.harga)]}),Object(n.jsx)(C.a,{variant:"primary",onClick:function(){return t(e)},children:"Add to cart "})]})]})})},J=function(a){Object(l.a)(t,a);var e=Object(h.a)(t);function t(a){var n;return Object(o.a)(this,t),(n=e.call(this,a)).changeCategory=function(a){n.setState({categoriYangDipilih:a,menus:[]}),H.a.get(M+"products?category.nama="+a).then((function(a){var e=a.data;n.setState({menus:e})})).catch((function(a){console.log("Error yaa ",a)}))},n.masukKeranjang=function(a){H.a.get(M+"keranjangs?product.id="+a.id).then((function(e){if(0===e.data.length){var t={jumlah:1,total_harga:a.harga,product:a};H.a.post(M+"keranjangs",t).then((function(a){B()({title:"Sukses Masuk Keranjang",text:"Sukses Masuk Keranjang "+t.product.nama,icon:"success",button:!1,timer:1500})})).catch((function(a){console.log("Error yaa ",a)}))}else{var n={jumlah:e.data[0].jumlah+1,total_harga:e.data[0].total_harga+a.harga,product:a};H.a.put(M+"keranjangs/"+e.data[0].id,n).then((function(a){B()({title:"Sukses Masuk Keranjang",text:"Sukses Masuk Keranjang "+n.product.nama,icon:"success",button:!1,timer:1500})})).catch((function(a){console.log("Error yaa ",a)}))}})).catch((function(a){console.log("Error yaa ",a)}))},n.state={menus:[],categoriYangDipilih:"Makanan",keranjangs:[]},n}return Object(j.a)(t,[{key:"componentDidMount",value:function(){var a=this;H.a.get(M+"products?category.nama="+this.state.categoriYangDipilih).then((function(e){var t=e.data;a.setState({menus:t})})).catch((function(a){console.log("Error yaa ",a)})),H.a.get(M+"keranjangs").then((function(e){var t=e.data;a.setState({keranjangs:t})})).catch((function(a){console.log("Error yaa ",a)}))}},{key:"componentDidUpdate",value:function(a){var e=this;this.state.keranjangs!==a.keranjangs&&H.a.get(M+"keranjangs").then((function(a){var t=a.data;e.setState({keranjangs:t})})).catch((function(a){console.log("Error yaa ",a)}))}},{key:"render",value:function(){var a=this,e=this.state,t=e.menus,c=e.categoriYangDipilih,r=e.keranjangs;return Object(n.jsx)(N.a,{children:Object(n.jsxs)(m.a,{children:[Object(n.jsx)(I,{changeCategory:this.changeCategory,categoriYangDipilih:c}),Object(n.jsxs)(g.a,{className:"mt-5 ",children:[Object(n.jsx)("h4",{children:Object(n.jsx)("strong",{children:"Daftar Menu"})}),Object(n.jsx)("hr",{}),Object(n.jsx)(m.a,{children:t&&t.map((function(e){return Object(n.jsx)(z,{menu:e,masukKeranjang:a.masukKeranjang},e.id)}))})]}),Object(n.jsx)(K,Object(b.a)({keranjangs:r},this.props))]})})}}]),t}(c.Component),U=t(119),F=function(a){Object(l.a)(t,a);var e=Object(h.a)(t);function t(){return Object(o.a)(this,t),e.apply(this,arguments)}return Object(j.a)(t,[{key:"componentDidMount",value:function(){H.a.get(M+"keranjangs").then((function(a){a.data.map((function(a){return H.a.delete(M+"keranjangs/"+a.id).then((function(a){return console.log(a)})).catch((function(a){return console.log(a)}))}))})).catch((function(a){console.log("Error yaa ",a)}))}},{key:"render",value:function(){return Object(n.jsxs)("div",{className:"mt-4 text-center",children:[Object(n.jsx)(U.a,{src:"assets/images/sukses.png",width:"500"}),Object(n.jsx)("h2",{children:"Sukses Pesan"}),Object(n.jsx)("p",{children:"Terimakasih Sudah Memesan!"}),Object(n.jsx)(C.a,{variant:"primary",as:u.b,to:"/",children:"Kembali"})]})}}]),t}(c.Component),W=function(a){Object(l.a)(t,a);var e=Object(h.a)(t);function t(){return Object(o.a)(this,t),e.apply(this,arguments)}return Object(j.a)(t,[{key:"render",value:function(){return Object(n.jsxs)(u.a,{children:[Object(n.jsx)(A,{}),Object(n.jsx)("main",{children:Object(n.jsxs)(d.c,{children:[Object(n.jsx)(d.a,{path:"/",component:J,exact:!0}),Object(n.jsx)(d.a,{path:"/sukses",component:F,exact:!0})]})})]})}}]),t}(c.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(W,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(a){a.unregister()})).catch((function(a){console.error(a.message)}))},85:function(a,e,t){}},[[109,1,2]]]);
//# sourceMappingURL=main.cfc245cd.chunk.js.map